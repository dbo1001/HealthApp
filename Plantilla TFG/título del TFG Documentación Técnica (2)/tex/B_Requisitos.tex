\apendice{Especificación de Requisitos}

\section{Introducción}
En los siguientes apartados de este capitulo se describirá todos los requisitos y objetivos que inicialmente debía cubrir el programa en cuanto a funcionalidad.
\section{Objetivos generales}
El objetivo principal de este TFG es la realización de un proyecto completo, que ponga a disposición del usuario, un sistema automatizado de planificación alimenticia. Automatizando y facilitando el aprendizaje de la dietoterapia. Desarrollando un sistema de recomendación completo, renovando el calculo TMB, y guiando al usuario a través de múltiples gráficos y medidas.\
Como proyecto, ha de tener las funcionalidades mínimas para su correcta utilización:
\begin{itemize}
\item Alta y registro en la aplicación, además de la personalización de los datos.
\item Sistema de recomendación único y preciso, para una buena veracidad de los resultados.
\item Sistema de gráficos, y elementos visuales, para la correcta orientación del usuario.
\item Cálculos estandarizados y personalizados, para la correcta expansión y funcionamiento.
\item Guardado de datos y persistencia.
\end{itemize}
\section{Catalogo de requisitos}
\subsubsection{Requisitos funcionales}
\begin{enumerate}
\item \textbf{Requisito 1.} Probar correcto inicio de sesión y registro de nuevos usuarios.
\item \textbf{Requisito 2.} Probar que añadir un nuevo alimento funciona correctamente.
\item \textbf{Requisito 3.} Probar la correcta distribución alimenticia según la patología del usuario.
\item \textbf{Requisito 4.} Probar el correcto funcionamiento del sistema de recomendación
\item \textbf{Requisito 5.} Verificar la correcta actualización de los Frames, cada vez que se actualizan los resultados.
\item \textbf{Requisito 6.} Calibrar la formula del sistema de recomendación para que sea lo mas precisa posible.
\item \textbf{Requisito 7.} Comprobar el correcto almacenamiento del progreso, y la persistencia de los datos.
\end{enumerate}
\subsubsection{Requisitos no funcionales}
\begin{itemize}
\item \textbf{Requisito 8.} Crear diferentes estilos visuales para la ergonómica con el usuario.
\item \textbf{Requisito 9.} Mejorar la navegabilidad y velocidad del software.
\item \textbf{Requisito 10.} Para futuras extensiones el software ha de ser modular
\end{itemize}
\section{Especificación de requisitos}
\subsection{Requisito 1 - Inicio y Registro}
Versión: 1.0\\
Importancia: Media\\
Descripción:\\
Para un correcto uso de la aplicación debían poderse añadir diferentes usuarios e iniciar sesión. Se crearon las condiciones necesarias y el formulario, para la correcta inscripción en el programa, haciendo las comprobaciones pertinentes para respetar siempre la consistencia de la base de datos.

\subsection{Requisito 2 - Añadir Alimento}
Versión: 2.0\\
Importancia: Alta\\
Descripción:\\
Debido a la limitación de la base de datos, era necesaria la posibilidad de añadir nuevos alimentos, para ello se llegaron a crear dos versiones:\\
versión 1: El usuario debía meter la información completa del menú además de añadir él, la calidad que viese pertinente. Resultaba un trabajo arduo para el usuario y una posibilidad de romper la funcionalidad del programa haciendo que cualquier usuario pudiera poner cualquier comida con una buena calidad.\\
version 2: El usuario inserta el menú por cada alimento  y su información nutricional extraída de Bedca, la cual, esta valorada en 100 gramos. Calcula automáticamente el valor del menú y la calidad de dicho menú.
\subsection{Requisito 3 - Correcta distribución}
Versión: 1.0\\
Importancia: Baja\\
Descripción:\\
Cada patología viene inscrita con un tipo de dieta. A la hora de realizar los cálculos pertinentes en cuanto al reparto calórico ,el tipo de dieta es vital. . Esto se resolvió mediante clausulas condicionales que permitía crear esa variedad dietética.
\subsection{Requisito 4 y 6 - Sistema de recomendación: Pruebas y calibre}
Versión: 3.0\\
Importancia: Alta\\
Descripción:\\
El algoritmo de recomendación es el pilar de la aplicación. \\
Primero para su versión inicial, se ideo un sistema basado en recomendar solo a través del alimento menos ingerido (Para crear variedad) y la calidad, lo que provoca un desequilibrio nutricional grave, que había que evitar.\\
En la segunda versión, se añadió el atributo "dif" que hacía referencia a la diferencia calórica con la necesidad del usuario. Esto provocaba un menor desajuste, pero no tenía en cuenta los macronutrientes, no teniendo en cuenta el tipo de dieta del usuario y creando un importante desajuste nutricional.\\
Versión 3: Se corresponde con la formula actual, la cual permite que el alimento se ajuste lo máximo posible a las necesidades del usuario basandonse en las características que este busca en ese momento y en las características del menú recomendado.
\subsection{Requisito 5 - Actualización de los Frames}
Versión: 1.0\\
Importancia: Alta\\
Descripción:\\
Para que el sistema de recomendación fuera lo más preciso posible, había que asegurarse que con cada elección, la recomendación pudiera ser diferente, ajustándose de esta manera más al usuario y dando una experiencia mas cercana a la personalización. De esta manera cada vez que se selecciona un alimento, el programa cambia todas las recomendaciones posibles.\\
Debido a las limitaciones puestas por la interfaz gráfica. Para lograr la correcta actualización de la información, cada vez que se hace una elección, se reconstruye desde cero de nuevo el Frame.
\subsection{Requisito 7 - Persistencia }
Versión: 1.0\\
Importancia: Media\\
Descripción:\\
Se ha de guardar el progreso actual cada vez que el usuario cierre la aplicación. Para ello se crea un función encargada de guardar la base de datos y los mismos elementos de esta.\\
Se realizaron varias pruebas para ver el correcto almacenamiento y carga de los datos. Nacieron problemas de la necesidad de guardar un solo elemento de la base de datos. Para ello se separó la base de datos en distintos archivos ".xlsx", consiguiendo así la persistencia que se buscaba.